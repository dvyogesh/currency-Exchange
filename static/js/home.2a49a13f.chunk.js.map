{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./src/components/Home.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/unfetch/dist/unfetch.mjs","webpack:///./node_modules/isomorphic-unfetch/browser.js","webpack:///./src/api/httpClient.js","webpack:///./src/api/index.js","webpack:///./src/api/currencyApi.js","webpack:///./src/api/todosApi.js"],"names":["arrayWithoutHoles","__webpack_require__","iterableToArray","nonIterableSpread","module","exports","arr","Array","isArray","i","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","Home","serverTodos","useServerData","data","todos","_useState","useState","_useState2","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default","text","setText","_useState3","_useState4","setTodos","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","onSubmit","e","preventDefault","newTodo","api","create","then","res","concat","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","htmlFor","id","type","autoComplete","onChange","target","map","todo","key","fetchData","all","obj","defineProperty","enumerable","configurable","writable","r","__webpack_exports__","n","Promise","t","s","XMLHttpRequest","o","u","ok","status","statusText","url","responseURL","resolve","responseText","json","JSON","parse","blob","Blob","response","clone","headers","keys","entries","get","toLowerCase","has","l","open","method","onload","getAllResponseHeaders","replace","onerror","withCredentials","credentials","setRequestHeader","send","body","window","fetch","default","httpClient","baseURL","path","options","Error","post","arguments","_objectSpread","stringify","Content-Type","d","http","featchCurrencyData","currencyApi"],"mappings":"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","file":"static/js/home.2a49a13f.chunk.js","sourcesContent":["var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","import React, { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { api } from '../api';\nimport { useServerData } from '../state/serverDataContext';\nconst Home = () => {\n  const serverTodos = useServerData(data => {\n    return data.todos || [];\n  });\n  const [text, setText] = useState('');\n  const [todos, setTodos] = useState(serverTodos);\n\n  return (\n    <div>\n      <h1>Home page </h1>\n      <p>You can check your <NavLink to=\"/CurrencyExchange\">currency convertion</NavLink></p>\n      <form\n        onSubmit={e => {\n          e.preventDefault();\n\n          const newTodo = {\n            text\n          };\n\n          api.todos.create(newTodo).then(res => {\n            setTodos([...todos, res]);\n            setText('');\n          });\n        }}\n      >\n        <label htmlFor=\"todo\">Add a todo</label>\n        <br />\n        <p>enter input and hit enter</p>\n        <input\n          id=\"todo\"\n          type=\"text\"\n          value={text}\n          autoComplete=\"off\"\n          onChange={e => setText(e.target.value)}\n        />\n      </form>\n\n      <ul>\n        {todos.map(todo => (\n          <li key={todo.id}>{todo.text}</li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nHome.fetchData = () => {\n  return api.todos.all().then(todos => {\n    return {\n      todos\n    };\n  });\n};\n\nexport default Home;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","export default function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(n.method||\"get\",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+\",\"+t:t}),t(a())},s.onerror=r,s.withCredentials=\"include\"==n.credentials,n.headers)s.setRequestHeader(l,n.headers[l]);s.send(n.body||null)})}\n//# sourceMappingURL=unfetch.mjs.map\n","module.exports = window.fetch || (window.fetch = require('unfetch').default || require('unfetch'));\n","import fetch from 'isomorphic-unfetch';\n\nexport function httpClient(baseURL) {\n  return {\n    get: (path, options) => {\n      return fetch(baseURL + path, options).then(res => {\n        if (!res.ok) {\n          throw new Error(res.statusText);\n        }\n\n        return res.json();\n      });\n    },\n\n    post: (path, body, options = {}) => {\n      return fetch(baseURL + path, {\n        ...options,\n        method: 'POST',\n        body: JSON.stringify(body),\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        }\n      }).then(res => {\n        if (!res.ok) {\n          throw new Error(res.statusText);\n        }\n\n        return res.json();\n      });\n    }\n  };\n}\n","import { httpClient } from './httpClient';\nimport { todosApi } from './todosApi';\nimport {currencyApi} from './currencyApi'\n\nexport function apiFactory(http) {\n  return {\n    todos: todosApi(http),\n    featchCurrencyData: currencyApi(httpClient(''))\n  };\n}\n\nconst http = httpClient('http://localhost:3000');\nexport const api = apiFactory(http);\n","export function currencyApi(http) {\n  return {\n    currencyApi: () => {\n      return http.get('https://api.exchangeratesapi.io/latest?base=USD');\n    }\n  };\n}\n","export function todosApi(http) {\n  return {\n    all: () => {\n      return http.get('/api/todos');\n    },\n\n    create: newTodo => {\n      return http.post('/api/todos', newTodo);\n    }\n  };\n}\n"],"sourceRoot":""}